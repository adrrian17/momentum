<html lang="{{@site.locale}}">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" type="text/css" href="{{asset 'built/main.css'}}" />
	<title>{{meta_title}}</title>
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossOrigin />
	<link
		href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;900&family=Work+Sans:wght@400;500;700&display=swap"
		rel="stylesheet" />
	<script src="https://unpkg.com/flowbite@1.3.4/dist/flowbite.js"></script>
	{{ghost_head}}
</head>

<body class="{{body_class}} x-data=" { openMenu : false }" :class="openMenu ? 'overflow-hidden' : 'overflow-visible' ">
	<style>
		[x-cloak] {
			display: none !important;
		}
	</style>
	<section id="header">
		{{navigation}}
		{{> intro}}
	</section>
	<main>
		{{{body}}}
	</main>
	{{> footer}}
	<script src="{{asset 'built/dark-mode.js'}}"></script>
	<script src="{{asset 'built/jquery-3.4.1.min.js'}}"></script>
	<script src="//unpkg.com/alpinejs" defer></script>
	{{#is "post, page"}}
		<script src="{{asset 'built/jquery.fitvids.js'}}"></script>
		<script>
			var images = document.querySelectorAll('.kg-gallery-card img');

			images.forEach(function (image) {
				var container = image.closest('.kg-gallery-image');
				var width = image.attributes.width.value;
				var height = image.attributes.height.value;
				var ratio = width / height;
				container.style.flex = ratio + ' 1 0%';
			});

			images.forEach(function (image) {
				var wrapper = document.createElement('a');
				wrapper.setAttribute('data-no-swup', '');
				wrapper.setAttribute('data-fslightbox', '');
				wrapper.setAttribute('href', image.src);
				wrapper.setAttribute('aria-label', 'Click for Lightbox');
				image.parentNode.insertBefore(wrapper, image.parentNode.firstChild);
				wrapper.appendChild(image);
			});

			$(document).ready(function () {
				var $postContent = $(".post-content");
				$postContent.fitVids();
			});
		</script>
		<script src="{{asset 'built/fslightbox.js'}}"></script>
	{{/is}}
	{{ghost_foot}}
</body>

</html>